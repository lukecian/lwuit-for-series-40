<!---
    A buildscript to build LWUIT for Series 40 library very FAST.
    
    1. Make sure ant (http://ant.sourceforge.net) and antenna (http://antenna.sourceforge.net/)
       are installed.
    2. set the wtk.home property to the Nokia SDK 2.0 location
    3. Compile the UI-MIDP port. This has to be done only once.
    4. Run "ant -f antenna-build.xml" to build S40.jar

    To create the release packages run "release" target.
    
-->
<project name="LWUIT-for-Series-40" default="package" basedir=".">
    <taskdef resource="antenna.properties"/>
    <property name="src" location="src" />
    <property name="wtk.home" value="c:\tools\Nokia\Devices\Nokia_SDK_2_0_Java" />
    <property name="wtk.midp.version" value="2.0" />
    <property name="UI-MIDP" value="..\..\MIDP\UI\dist\UI.jar" />
    <path id="bootclasspath.ref">
        <fileset dir="${wtk.home}/lib" >
            <include name="*.jar" />
        </fileset>
        <fileset dir="../../MIDP/UI/dist/">
            <include name="UI.jar" />
        </fileset>
    </path>
    <target name="clean">
        <delete dir="classes" />
        <delete dir="dist" />
    </target>
    <target name="init">
        <mkdir dir="classes/" />
        <mkdir dir="dist/" />
    </target>
    <target name="build" depends="init">
        <wtkbuild
                    srcdir="${src}" 
                    destdir="classes/" 
                    encoding="UTF-8" 
                    source="1.3" 
                    includeAntRuntime="false" >
            <bootclasspath refid="bootclasspath.ref" />
        </wtkbuild>
        <copy todir="classes/">
            <fileset dir="${src}">
                <exclude name="**/*.java" />
                <include name="*.res" />
            </fileset>
        </copy>
    </target>
    <target name="create-jad" depends="init">
        <wtkjad jadfile="dist/S40.jad" name="LWUIT-for-Series-40" vendor="Nokia" version="0.6" encoding="UTF-8">
    
        </wtkjad>
    </target>
    <target name="package" depends="build, create-jad">
        <wtkpackage libclasspath="${UI-MIDP}" preverify="true" jarfile="dist/S40.jar" jadfile="dist/S40.jad">
            <bootclasspath refid="bootclasspath.ref" />
            <fileset dir="classes" />

        </wtkpackage>
    </target>

</project>
